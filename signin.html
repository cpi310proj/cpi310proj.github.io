<!DOCTYPE html>
<html>
<title>Rad Pages</title>

<script src="https://www.gstatic.com/firebasejs/3.6.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyBybzQ7A9ivNxUvOI03rbFXOS6UVnEAszk",
    authDomain: "test-1cc17.firebaseapp.com",
    databaseURL: "https://test-1cc17.firebaseio.com",
    storageBucket: "test-1cc17.appspot.com",
    messagingSenderId: "376566074849"
  };
  firebase.initializeApp(config);
</script>


<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<style>
body,h1 {font-family: "Raleway", sans-serif}
body, html {height: 100%}
.bgimg {
    background-image: url("back.jpg");
    min-height: 100%;
    background-position: center;
    background-size: cover;
}
</style>
<body>

<div class="bgimg w3-display-container w3-animate-opacity w3-text-white">
  <div class="w3-display-topleft w3-padding-large w3-xlarge w3-text-black">
    RAD PAGES &#x270C
  </div>
  	<div class="w3-display-middle">
		<form class="w3-container">

			<label>Email</label>
			<input class="w3-input" type="text" id="mail">

			<label>Password</label>
			<input class="w3-input" type="password" id="password">

			<p>
  				<a class="w3-btn-block w3-wide w3-padding-large w3-black w3-hover-teal" onclick=login() href="#">sign in</a>
  			</p>
		</form>
  </div>
</div>

</body>

<script>
function login() {
  var email = document.getElementById("mail").value;
  var password = document.getElementById("password").value;
  firebase.auth().signOut().then(function() {
    // Sign-out successful.
  }, function(error) {
    // An error happened.
  });
  firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    // User is signed in.
    window.location.assign("https://cpi310proj.github.io/ProfilePage");

  } else {
    // No user is signed in.
  }
});
  firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
    // Handle Errors here.
    var errorCode = error.code;
    var errorMessage = error.message;
    if (errorCode === 'auth/wrong-password' || errorCode === 'auth/invalid-email' ||
         errorCode === 'auth/user-not-found' || errorCode === 'auth/user-disabled') {
        alert(errorMessage);
    }

      // ...
  });
}
</script>


</html>
